<app-sidebar />

<div class="main-content">
  <div class="container">
    <div class="page-header">
      <h1>üìÅ Files</h1>
    </div>

    <!-- Upload Area -->
    <div
      class="upload-area"
      [class.drag-over]="dragOver"
      (dragover)="onDragOver($event)"
      (dragleave)="onDragLeave($event)"
      (drop)="onDrop($event)"
    >
      @if (uploading) {
      <div class="uploading">
        <div class="loading-spinner"></div>
        <span>Uploading...</span>
      </div>
      } @else {
      <div class="upload-content">
        <span class="upload-icon">üì§</span>
        <p>Drag & drop a file here or</p>
        <label class="btn-primary upload-btn">
          Choose File
          <input type="file" (change)="onFileSelect($event)" hidden />
        </label>
      </div>
      }
    </div>

    <!-- Files List -->
    <div class="card files-card">
      <h2>Files ({{ files.length }})</h2>

      @if (loading) {
      <div class="loading-spinner"></div>
      } @else {
      <div class="files-list">
        @for (file of files; track file.name) {
        <div class="file-item">
          <div class="file-icon">{{ getFileIcon(file.name) }}</div>
          <div class="file-info">
            <div class="file-name">{{ file.name }}</div>
            <div class="file-meta">
              {{ formatFileSize(file.size) }} ‚Ä¢ {{ formatDate(file.modified) }}
            </div>
          </div>
          <div class="file-actions">
            <button class="btn-download" (click)="downloadFile(file.name)" title="Download">
              ‚¨áÔ∏è
            </button>
            <button class="btn-delete" (click)="deleteFile(file.name)" title="Delete">üóëÔ∏è</button>
          </div>
        </div>
        } @empty {
        <div class="empty-state">
          <span>üìÇ</span>
          <p>No files yet</p>
        </div>
        }
      </div>
      }
    </div>
  </div>
</div>
